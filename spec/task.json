{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "A2A Task Definitions",
  "description": "Task, artifact, and state management definitions for the A2A protocol",
  "definitions": {
    "Task": {
      "description": "Represents a single, stateful operation or conversation between a client and an agent.",
      "properties": {
        "artifacts": {
          "description": "A collection of artifacts generated by the agent during the execution of the task.",
          "items": {
            "$ref": "#/definitions/Artifact"
          },
          "type": "array"
        },
        "contextId": {
          "description": "A server-generated unique identifier (e.g. UUID) for maintaining context across multiple related tasks or interactions.",
          "type": "string"
        },
        "history": {
          "description": "An array of messages exchanged during the task, representing the conversation history.",
          "items": {
            "$ref": "message.json#/definitions/Message"
          },
          "type": "array"
        },
        "id": {
          "description": "A unique identifier (e.g. UUID) for the task, generated by the server for a new task.",
          "type": "string"
        },
        "kind": {
          "const": "task",
          "description": "The type of this object, used as a discriminator. Always 'task' for a Task.",
          "type": "string"
        },
        "metadata": {
          "additionalProperties": {},
          "description": "Optional metadata for extensions. The key is an extension-specific identifier.",
          "type": "object"
        },
        "status": {
          "$ref": "#/definitions/TaskStatus",
          "description": "The current status of the task, including its state and a descriptive message."
        }
      },
      "required": [
        "contextId",
        "id",
        "kind",
        "status"
      ],
      "type": "object"
    },
    "TaskState": {
      "description": "Represents the possible states of a Task.",
      "enum": [
        "submitted",
        "working",
        "input-required",
        "completed",
        "canceled",
        "failed",
        "rejected",
        "auth-required",
        "unknown"
      ],
      "type": "string"
    },
    "TaskStatus": {
      "description": "Represents the status of a task at a specific point in time.",
      "properties": {
        "message": {
          "$ref": "message.json#/definitions/Message",
          "description": "An optional, human-readable message providing more details about the current status."
        },
        "state": {
          "$ref": "#/definitions/TaskState",
          "description": "The current state of the task's lifecycle."
        },
        "timestamp": {
          "description": "An ISO 8601 datetime string indicating when this status was recorded.",
          "examples": [
            "2023-10-27T10:00:00Z"
          ],
          "type": "string"
        }
      },
      "required": [
        "state"
      ],
      "type": "object"
    },
    "Artifact": {
      "description": "Represents a file, data structure, or other resource generated by an agent during a task.",
      "properties": {
        "artifactId": {
          "description": "A unique identifier (e.g. UUID) for the artifact within the scope of the task.",
          "type": "string"
        },
        "description": {
          "description": "An optional, human-readable description of the artifact.",
          "type": "string"
        },
        "extensions": {
          "description": "The URIs of extensions that are relevant to this artifact.",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "metadata": {
          "additionalProperties": {},
          "description": "Optional metadata for extensions. The key is an extension-specific identifier.",
          "type": "object"
        },
        "name": {
          "description": "An optional, human-readable name for the artifact.",
          "type": "string"
        },
        "parts": {
          "description": "An array of content parts that make up the artifact.",
          "items": {
            "$ref": "message.json#/definitions/Part"
          },
          "type": "array"
        }
      },
      "required": [
        "artifactId",
        "parts"
      ],
      "type": "object"
    }
  }
}